<%- include('../partials/header', { title: 'Donate - Ella Rises', description: 'Support Ella Rises by making a donation. Your contribution helps empower the future generation of women through STEAM programs and cultural heritage education.', user: typeof user !== 'undefined' ? user : null }) %>

<!-- Donation page header -->
<div class="page-header">
    <h1>Make a Donation</h1>
    <p>Your support helps empower the future generation of women through STEAM programs and cultural heritage education.</p>
</div>

<!-- Donation form - no login required -->
<div class="form-container" style="max-width: 700px; margin: 0 auto;">
    <div class="form-card">
        <!-- Success message -->
        <% if (typeof success !== 'undefined' && success) { %>
            <div class="flash-message flash-success" style="margin-bottom: 2rem;">
                Thank you for your donation! Your contribution makes a difference.
            </div>
        <% } %>
        
        <!-- Error message -->
        <% if (typeof error !== 'undefined' && error) { %>
            <div class="flash-message flash-error" style="margin-bottom: 2rem;">
                <%= error %>
            </div>
        <% } %>

        <!-- Donation form -->
        <form action="/donate" method="POST" id="donation-form" novalidate aria-label="Donation Form">
            <!-- Donor info section -->
            <fieldset class="form-section">
                <legend class="section-header">Donor Information</legend>
                <div class="form-row">
                    <div class="form-group form-group-half">
                        <label for="donor_name">Full Name <span aria-label="required">*</span></label>
                        <input type="text" id="donor_name" name="donor_name" required aria-required="true" aria-describedby="donor-name-hint" autocomplete="name">
                        <small id="donor-name-hint" class="field-hint">Enter your full name</small>
                    </div>
                    <div class="form-group form-group-half">
                        <label for="donor_email">Email Address <span aria-label="required">*</span></label>
                        <input type="email" id="donor_email" name="donor_email" required aria-required="true" aria-describedby="donor-email-hint" autocomplete="email">
                        <small id="donor-email-hint" class="field-hint">We'll send a receipt to this email</small>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group form-group-half">
                        <label for="donor_phone">Phone Number</label>
                        <input type="tel" id="donor_phone" name="donor_phone" aria-describedby="donor-phone-hint" autocomplete="tel">
                        <small id="donor-phone-hint" class="field-hint">Optional - for donation confirmation</small>
                    </div>
                    <div class="form-group form-group-half">
                        <label for="donation_date">Donation Date <span aria-label="required">*</span></label>
                        <input type="date" id="donation_date" name="donation_date" required aria-required="true" value="<%= new Date().toISOString().split('T')[0] %>">
                    </div>
                </div>
            </fieldset>

            <fieldset class="form-section">
                <legend class="section-header">Donation Details</legend>
                <div class="form-row">
                    <div class="form-group form-group-half">
                        <label for="amount">Donation Amount ($) <span aria-label="required">*</span></label>
                        <input type="number" id="amount" name="amount" min="1" step="0.01" required aria-required="true" aria-describedby="amount-hint">
                        <small id="amount-hint" class="field-hint">Minimum $1.00</small>
                    </div>
                    <div class="form-group form-group-half">
                        <label for="payment_method">Payment Method <span aria-label="required">*</span></label>
                        <select id="payment_method" name="payment_method" required aria-required="true">
                            <option value="">Select payment method</option>
                            <option value="credit_card">Credit Card</option>
                            <option value="debit_card">Debit Card</option>
                            <option value="paypal">PayPal</option>
                            <option value="check">Check</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="message">Message (Optional)</label>
                    <textarea id="message" name="message" rows="4" placeholder="Add a personal message with your donation..." aria-describedby="message-hint"></textarea>
                    <small id="message-hint" class="field-hint">Share why you're supporting Ella Rises</small>
                </div>
            </fieldset>

            <div class="form-section">
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary btn-submit" aria-label="Submit donation">Submit Donation</button>
                    <a href="/" class="btn btn-secondary" aria-label="Cancel and return to home">Cancel</a>
                </div>
                <p style="text-align: center; margin-top: 1rem; font-size: 0.9rem; color: var(--text-secondary);">
                    By submitting this form, you agree to make a donation to Ella Rises. You will receive a confirmation email.
                </p>
            </div>
        </form>
    </div>
</div>

<%- include('../partials/footer') %>

